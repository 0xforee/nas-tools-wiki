---
title: 消息通知
description: 
published: 1
date: 2023-05-12T13:31:32.638Z
tags: 
editor: markdown
dateCreated: 2023-05-12T04:48:45.938Z
---

> 消息通知使用体验：微信 > Telegram > Slack > Synology Chat，也只有这几个才支持消息交互，其余渠道只能接收消息，无法远程交互。
{.is-success}

# 新增消息通知

# 远程交互

# ChatGPT

ChatGPT官方API帐号过期且无法充值的，可以试试使用API2D，支持微信充值（同样按tokens计费，但价值约为官方的1.5倍），NAStool无缝适配，同样支持上下文。

使用方法：注册开通API2D并创建Key，NAStool中OpenAI Api Url填入https://openai.api2d.net，OpenAI API Key填入生成的Forward Key，详情参考：https://api2d.com/wiki/doc

另外，使用NT的消息服务跟ChatGPT对话时，如果换了话题或者不想一直关联上下文，手工输入 #清除 消除会话上下文，会话堆的越长，后面的交互tokens用的越快。不手动清除时上下文会按最后活动时间保留2个小时。

# 微信

> 由于微信官方限制，2022年6月20日后创建的企业微信应用需要有固定的公网IP地址并加入IP白名单后才能发送消息，使用有固定公网IP的代理服务器转发可解决该问题，代理服务器需自行搭建或使用公共资源中公布的代理地址（如太多人使用也有可能会被封禁）。
{.is-warning}



# Telegram

Telegram机器人消息有两种模式：`Webhook`或`消息轮循`：
- **Webhook方式**：需要在基础设置中正确配置好外网访问地址，同时受Telegram官方限制，外网访问地址需要设置为以下端口之一：`443`, `80`, `88`, `8443`，且需要有公网认证的可信SSL证书。
- **消息轮循方式**：将闭Webhook开关则表示使用该方式，需要在`基础设置->安全`处将`Telegram ipv4源地址`设置为`127.0.0.1`，如同时使用了内置的SSL证书功能，消息轮循方式可能无法正常使用。

**图文教程：**
- [telegram通知教程，增加群组频道支持.pdf](/files/telegram通知教程，增加群组频道支持.pdf)
- [搭建微信转发代理_.pdf](/files/搭建微信转发代理_.pdf)
- [自己搭建vps转发企业微信通知.pdf](/files/自己搭建vps转发企业微信通知.pdf)

# Slack

> 无网络环境要求，且可远程交互。
{.is-success}

- https://slack.com/intl/zh-cn/ 创建工作区
- https://api.slack.com/ 创建App应用，打开 `Socket Mode`。
- 开启`Event Subscriptions`、`Bots`、`Permissions`。其中`Bot Token Scopes` 赋于 `chat:write`、`im:read`、`im:history` 、`channels:read`、`commands`权限；`Subscribe to bot events` 赋于 `message.im`、`app_mention` 权限；按需维护`Interactivity & Shortcuts`菜单，类型为`Global`，菜单Callback ID需与项目主页说明一致。
- 创建 `App-Level Tokens` 并赋于 `connections:write` 权限。
- Install App 到工作区，登录工作区将App添加到`全体`频道。
- `OAuth & Permissions` 中 获取 `Bot User OAuth Token`，`Basic Information` 中 获取 `App-Level Tokens `填入NAStool，打开交互开关。
- 重启NAStool生效。
- 下载Slack客户端使用。

注意：App添加至工作区后，如修改了App设置，需重新Install到工作区才能生效（页面顶部有提示）


# Synology Chat
[微信通知搭建caddy代理超简单流程.pdf](/files/微信通知搭建caddy代理超简单流程.pdf)